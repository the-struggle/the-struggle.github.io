<!DOCTYPE HTML>
<!--
	Read Only by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
    
	<head>
		<title>The Struggle is Real</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<!--[if lte IE 8]><script src="css/ie/html5shiv.js"></script><![endif]-->
		<script src="/js/jquery.min.js"></script>
		<script src="/js/jquery.scrollzer.min.js"></script>
		<script src="/js/jquery.scrolly.min.js"></script>
		<script src="/js/skel.min.js"></script>
		<script src="/js/skel-layers.min.js"></script>
		<script src="/js/init.js"></script>
		<noscript>
			<link rel="stylesheet" href="/css/skel.css" />
			<link rel="stylesheet" href="/css/style.css" />
			<link rel="stylesheet" href="/css/style-xlarge.css" />
		</noscript>
		<!--[if lte IE 8]><link rel="stylesheet" href="css/ie/v8.css" /><![endif]-->
	</head>

    <body>
        <div id="wrapper">
        <!-- Header -->
    <section id="header" class="skel-layers-fixed">
        <header>
            <span class="image avatar"><img src="/images/avatar.jpg" alt="" /></span>
            <h1 id="logo"><a href="/">The Struggle</a></h1>
            <p>What the heck do I do next!?</p>
        </header>
        <nav id="nav">
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/blog">Blog</a></li>
                <li>Contact: the.struggle.1 at gmail.com</li>
            </ul>
        </nav>
        <footer>
            <ul class="icons">
<!--                <li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
-->
<!--                <li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
-->
<!--                <li><a href="#" class="icon fa-instagram"><span class="label">Instagram</span></a></li>
-->
                <li><a href="#" class="icon fa-github"><span class="label">Github</span></a></li>
<!--                <li><a href="#" class="icon fa-envelope"><span class="label">Email</span></a></li>
-->
            </ul>
        </footer>
    </section>


            <!-- Main -->
            <div id="main">
                <section>
    <div class="container">
        <header class="major">
            <h2>Backtrader: a first strategy.</h2>
                <p class="post-meta">Aug 10, 2018</p>
        </header>

        <section class="post-content">
            <p>Ok, back to what I really wanted to do today: look at Backtrader! This is a backtesting suite that is open source and seems pretty well maintained. Firt you need to install it with <code class="highlighter-rouge">pip install backtrader</code>. After that I’m just going to work through their quickstart guide.</p>

<p>To work with Backtrader we create a strategy class. In the quickstart example this object will contain several methods:
* log
* notify_order
* next
Once we have the strategy defined we then generate a broker object using their “cerebro engine”, we add the strategy, we add a data feed, and we run!</p>

<p>Here’s a simple strategy object:</p>

<p>```python
from <strong>future</strong> import (absolute_import, division, print_function,
                        unicode_literals)</p>

<p>import datetime  # For datetime objects
import os.path  # To manage paths
import sys  # To find out the script name (in argv[0])
import pandas as pd
pd.core.common.is_list_like = pd.api.types.is_list_like
from pandas_datareader import data
import fix_yahoo_finance as yf
import matplotlib.pyplot as plt</p>

<h1 id="import-the-backtrader-platform">Import the backtrader platform</h1>
<p>import backtrader as bt
%matplotlib inline<br />
yf.pdr_override()</p>

<p>```</p>

<p>```python
# Create a Stratey
class TestStrategy(bt.Strategy):
    params = (
        (‘smaperiod’, 20),
        (‘lmaperiod’, 30),
        (‘llmaperiod’, 90)
    )
    def log(self, txt, dt=None):
        ‘’’ Logging function fot this strategy’’’
        dt = dt or self.datas[0].datetime.date(0)
        print(‘%s, %s’ % (dt.isoformat(), txt))</p>

<div class="highlighter-rouge"><pre class="highlight"><code>def __init__(self):
    # Keep a reference to the "close" line in the data[0] dataseries
    self.dataclose = self.datas[0].close

    # To keep track of pending orders
    self.order = None

    # Add some moving average indicators
    self.sma = bt.indicators.SimpleMovingAverage(self.datas[0],
                                                 period=self.params.smaperiod)
    self.lma = bt.indicators.SimpleMovingAverage(self.datas[0],
                                                 period=self.params.lmaperiod)
    self.llma = bt.indicators.SimpleMovingAverage(self.datas[0],
                                                 period=self.params.llmaperiod)

def notify_order(self, order):
    if order.status in [order.Submitted, order.Accepted]:
        # Buy/Sell order submitted/accepted to/by broker - Nothing to do
        return

    # Check if an order has been completed
    # Attention: broker could reject order if not enough cash
    if order.status in [order.Completed]:
        if order.isbuy():
            self.log('BUY EXECUTED, %.2f' % order.executed.price)
        elif order.issell():
            self.log('SELL EXECUTED, %.2f' % order.executed.price)

        self.bar_executed = len(self)

    elif order.status in [order.Canceled, order.Margin, order.Rejected]:
        self.log('Order Canceled/Margin/Rejected')

    # Write down: no pending order
    self.order = None

def next(self):
    # Simply log the closing price of the series from the reference
    self.log('Close, %.2f' % self.dataclose[0])

    # Check if an order is pending ... if yes, we cannot send a 2nd one
    if self.order:
        return

    # Check if we are in the market
    if not self.position:

        # Not yet ... we MIGHT BUY if ...
        if ((self.dataclose[0] &gt; self.sma[0]) &amp;
            (self.sma[0] &gt; self.lma[0]) &amp;
            (self.lma[0] &gt; self.llma[0])):
                # You're on a long and short term up trend at the same time!
                # BUY, BUY, BUY!!! (with default parameters)
                self.log('BUY CREATE, %.2f' % self.dataclose[0])

                # Keep track of the created order to avoid a 2nd order
                self.order = self.buy()

    else:
        # Already in the market ... we might sell
        if ((self.dataclose[0] &lt; self.sma[0]) &amp;
            (self.sma[0] &lt; self.lma[0]) &amp;
            (self.lma[0] &lt; self.llma[0])):
            # SELL, SELL, SELL!!! (with all possible default parameters)
            self.log('SELL CREATE, %.2f' % self.dataclose[0])

            # Keep track of the created order to avoid a 2nd order
            self.order = self.sell()
</code></pre>
</div>

<p>```</p>

<p>Ok, let’s see if that worked!!!</p>

<p><code class="highlighter-rouge">python
datetime.datetime(int(start_date[:4]), int(start_date[5:7]), int(start_date[8:10]))
</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>datetime.datetime(2010, 1, 1, 0, 0)
</code></pre>
</div>

<p>```python
# Create a cerebro entity
cerebro = bt.Cerebro()</p>

<h1 id="add-a-strategy">Add a strategy</h1>
<p>cerebro.addstrategy(TestStrategy)</p>

<h1 id="download-your-own-data-because-the-samples-arent-in-my-package">Download your own data, because the samples aren’t in my package</h1>
<p>symbol = ‘SPY’
start_date = ‘2010-01-01’
end_date = ‘2016-01-01’
#df = data.get_data_yahoo(symbol, start_date, end_date)
#df.to_csv(‘spy_data.csv’)</p>

<h1 id="create-a-data-feed">Create a Data Feed</h1>
<p>DATA = bt.feeds.YahooFinanceCSVData(
    dataname=’spy_data.csv’,
    # Do not pass values before this date
    fromdate=datetime.datetime(int(start_date[:4]),
                               int(start_date[5:7]),
                               int(start_date[8:10])),
    # Do not pass values before this date
    todate=datetime.datetime(int(end_date[:4]),
                             int(end_date[5:7]),
                             int(end_date[8:10])),
    # Do not pass values after this date
    reverse=False)</p>

<h1 id="add-the-data-feed-to-cerebro">Add the Data Feed to Cerebro</h1>
<p>cerebro.adddata(DATA)</p>

<h1 id="set-our-desired-cash-start">Set our desired cash start</h1>
<p>cerebro.broker.setcash(1000.0)</p>

<h1 id="add-a-fixedsize-sizer-according-to-the-stake">Add a FixedSize sizer according to the stake</h1>
<p>cerebro.addsizer(bt.sizers.FixedSize, stake=7)</p>

<h1 id="set-the-commission">Set the commission</h1>
<p>cerebro.broker.setcommission(commission=0.0)</p>

<h1 id="print-out-the-starting-conditions">Print out the starting conditions</h1>
<p>print(‘Starting Portfolio Value: %.2f’ % cerebro.broker.getvalue())</p>

<h1 id="run-over-everything">Run over everything</h1>
<p>cerebro.run()</p>

<h1 id="print-out-the-final-result">Print out the final result</h1>
<p>print(‘Final Portfolio Value: %.2f’ % cerebro.broker.getvalue())
```</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Starting Portfolio Value: 1000.00
2010-05-12, Close, 99.41
2010-05-13, Close, 98.17
2010-05-14, Close, 96.40
2010-05-17, Close, 96.45
2010-05-18, Close, 95.13
2010-05-19, Close, 94.59
2010-05-20, Close, 91.02
2010-05-21, Close, 92.35
2010-05-24, Close, 91.16
2010-05-25, Close, 91.26
2010-05-26, Close, 90.71
2010-05-27, Close, 93.75
2010-05-28, Close, 92.57
2010-06-01, Close, 91.01
2010-06-02, Close, 93.38
2010-06-03, Close, 93.70
2010-06-04, Close, 90.41
2010-06-07, Close, 89.29
2010-06-08, Close, 90.24
2010-06-09, Close, 89.76
2010-06-10, Close, 92.38
2010-06-11, Close, 92.83
2010-06-14, Close, 92.69
2010-06-15, Close, 94.80
2010-06-16, Close, 94.76
2010-06-17, Close, 94.91
2010-06-18, Close, 95.02
2010-06-21, Close, 94.75
2010-06-22, Close, 93.18
2010-06-23, Close, 92.89
2010-06-24, Close, 91.35
2010-06-25, Close, 91.73
2010-06-28, Close, 91.45
2010-06-29, Close, 88.62
2010-06-30, Close, 87.78
2010-07-01, Close, 87.39
2010-07-02, Close, 86.91
2010-07-06, Close, 87.48
2010-07-07, Close, 90.24
2010-07-08, Close, 91.13
2010-07-09, Close, 91.81
2010-07-12, Close, 91.87
2010-07-13, Close, 93.26
2010-07-14, Close, 93.25
2010-07-15, Close, 93.27
2010-07-16, Close, 90.71
2010-07-19, Close, 91.24
2010-07-20, Close, 92.25
2010-07-21, Close, 91.05
2010-07-22, Close, 93.09
2010-07-23, Close, 93.89
2010-07-26, Close, 94.87
2010-07-27, Close, 94.86
2010-07-28, Close, 94.25
2010-07-29, Close, 93.79
2010-07-30, Close, 93.78
2010-08-02, Close, 95.89
2010-08-03, Close, 95.43
2010-08-04, Close, 96.07
2010-08-05, Close, 95.97
2010-08-06, Close, 95.58
2010-08-09, Close, 96.09
2010-08-10, Close, 95.57
2010-08-11, Close, 92.95
2010-08-12, Close, 92.38
2010-08-13, Close, 92.11
2010-08-16, Close, 92.07
2010-08-17, Close, 93.20
2010-08-18, Close, 93.37
2010-08-19, Close, 91.74
2010-08-20, Close, 91.45
2010-08-23, Close, 91.10
2010-08-24, Close, 89.74
2010-08-25, Close, 90.09
2010-08-26, Close, 89.49
2010-08-27, Close, 90.88
2010-08-30, Close, 89.56
2010-08-31, Close, 89.56
2010-09-01, Close, 92.24
2010-09-02, Close, 93.10
2010-09-03, Close, 94.30
2010-09-07, Close, 93.24
2010-09-08, Close, 93.89
2010-09-09, Close, 94.33
2010-09-10, Close, 94.80
2010-09-13, Close, 95.86
2010-09-14, Close, 95.80
2010-09-15, Close, 96.17
2010-09-16, Close, 96.14
2010-09-17, Close, 96.18
2010-09-20, Close, 97.65
2010-09-20, BUY CREATE, 97.65
2010-09-21, BUY EXECUTED, 114.30
2010-09-21, Close, 97.45
2010-09-22, Close, 96.97
2010-09-23, Close, 96.18
2010-09-24, Close, 98.17
2010-09-27, Close, 97.70
2010-09-28, Close, 98.04
2010-09-29, Close, 97.87
2010-09-30, Close, 97.58
2010-10-01, Close, 97.99
2010-10-04, Close, 97.25
2010-10-05, Close, 99.21
2010-10-06, Close, 99.20
2010-10-07, Close, 99.08
2010-10-08, Close, 99.64
2010-10-11, Close, 99.73
2010-10-12, Close, 100.04
2010-10-13, Close, 100.82
2010-10-14, Close, 100.42
2010-10-15, Close, 100.63
2010-10-18, Close, 101.13
2010-10-19, Close, 99.80
2010-10-20, Close, 100.78
2010-10-21, Close, 101.00
2010-10-22, Close, 101.19
2010-10-25, Close, 101.49
2010-10-26, Close, 101.50
2010-10-27, Close, 101.21
2010-10-28, Close, 101.23
2010-10-29, Close, 101.31
2010-11-01, Close, 101.34
2010-11-02, Close, 102.14
2010-11-03, Close, 102.55
2010-11-04, Close, 104.53
2010-11-05, Close, 104.92
2010-11-08, Close, 104.73
2010-11-09, Close, 103.97
2010-11-10, Close, 104.39
2010-11-11, Close, 104.00
2010-11-12, Close, 102.77
2010-11-15, Close, 102.62
2010-11-16, Close, 101.02
2010-11-17, Close, 101.07
2010-11-18, Close, 102.56
2010-11-19, Close, 102.84
2010-11-22, Close, 102.76
2010-11-23, Close, 101.27
2010-11-24, Close, 102.77
2010-11-26, Close, 101.57
2010-11-29, Close, 101.88
2010-11-30, Close, 101.31
2010-12-01, Close, 103.46
2010-12-02, Close, 104.79
2010-12-03, Close, 105.07
2010-12-06, Close, 104.96
2010-12-07, Close, 105.02
2010-12-08, Close, 105.40
2010-12-09, Close, 105.81
2010-12-10, Close, 106.43
2010-12-13, Close, 106.50
2010-12-14, Close, 106.59
2010-12-15, Close, 106.10
2010-12-16, Close, 106.72
2010-12-17, Close, 106.83
2010-12-20, Close, 107.09
2010-12-21, Close, 107.77
2010-12-22, Close, 108.10
2010-12-23, Close, 107.95
2010-12-27, Close, 107.99
2010-12-28, Close, 108.15
2010-12-29, Close, 108.22
2010-12-30, Close, 108.05
2010-12-31, Close, 108.08
2011-01-03, Close, 109.20
2011-01-04, Close, 109.14
2011-01-05, Close, 109.70
2011-01-06, Close, 109.49
2011-01-07, Close, 109.27
2011-01-10, Close, 109.14
2011-01-11, Close, 109.52
2011-01-12, Close, 110.51
2011-01-13, Close, 110.33
2011-01-14, Close, 111.13
2011-01-18, Close, 111.32
2011-01-19, Close, 110.23
2011-01-20, Close, 110.08
2011-01-21, Close, 110.33
2011-01-24, Close, 110.96
2011-01-25, Close, 111.02
2011-01-26, Close, 111.45
2011-01-27, Close, 111.72
2011-01-28, Close, 109.77
2011-01-31, Close, 110.60
2011-02-01, Close, 112.37
2011-02-02, Close, 112.15
2011-02-03, Close, 112.40
2011-02-04, Close, 112.72
2011-02-07, Close, 113.42
2011-02-08, Close, 113.94
2011-02-09, Close, 113.68
2011-02-10, Close, 113.72
2011-02-11, Close, 114.40
2011-02-14, Close, 114.68
2011-02-15, Close, 114.32
2011-02-16, Close, 115.04
2011-02-17, Close, 115.38
2011-02-18, Close, 115.62
2011-02-22, Close, 113.30
2011-02-23, Close, 112.61
2011-02-24, Close, 112.53
2011-02-25, Close, 113.73
2011-02-28, Close, 114.44
2011-03-01, Close, 112.53
2011-03-02, Close, 112.77
2011-03-03, Close, 114.71
2011-03-04, Close, 113.85
2011-03-07, Close, 112.96
2011-03-08, Close, 113.95
2011-03-09, Close, 113.78
2011-03-10, Close, 111.68
2011-03-11, Close, 112.45
2011-03-14, Close, 111.77
2011-03-15, Close, 110.49
2011-03-16, Close, 108.45
2011-03-17, Close, 109.88
2011-03-18, Close, 110.28
2011-03-21, Close, 111.99
2011-03-22, Close, 111.60
2011-03-23, Close, 111.92
2011-03-24, Close, 112.99
2011-03-25, Close, 113.34
2011-03-28, Close, 113.06
2011-03-29, Close, 113.82
2011-03-30, Close, 114.61
2011-03-31, Close, 114.45
2011-04-01, Close, 114.94
2011-04-04, Close, 115.03
2011-04-05, Close, 115.01
2011-04-06, Close, 115.38
2011-04-07, Close, 115.08
2011-04-08, Close, 114.68
2011-04-11, Close, 114.34
2011-04-12, Close, 113.48
2011-04-13, Close, 113.48
2011-04-14, Close, 113.56
2011-04-15, Close, 113.98
2011-04-18, Close, 112.70
2011-04-19, Close, 113.35
2011-04-20, Close, 114.89
2011-04-21, Close, 115.48
2011-04-25, Close, 115.36
2011-04-26, Close, 116.35
2011-04-27, Close, 117.11
2011-04-28, Close, 117.49
2011-04-29, Close, 117.77
2011-05-02, Close, 117.59
2011-05-03, Close, 117.16
2011-05-04, Close, 116.39
2011-05-05, Close, 115.33
2011-05-06, Close, 115.84
2011-05-09, Close, 116.29
2011-05-10, Close, 117.28
2011-05-11, Close, 116.05
2011-05-12, Close, 116.60
2011-05-13, Close, 115.70
2011-05-16, Close, 114.97
2011-05-17, Close, 114.95
2011-05-18, Close, 115.98
2011-05-19, Close, 116.26
2011-05-20, Close, 115.33
2011-05-23, Close, 113.99
2011-05-24, Close, 113.90
2011-05-25, Close, 114.28
2011-05-26, Close, 114.81
2011-05-27, Close, 115.25
2011-05-31, Close, 116.45
2011-06-01, Close, 113.83
2011-06-02, Close, 113.71
2011-06-03, Close, 112.58
2011-06-06, Close, 111.39
2011-06-07, Close, 111.32
2011-06-08, Close, 110.85
2011-06-09, Close, 111.70
2011-06-10, Close, 110.14
2011-06-13, Close, 110.23
2011-06-14, Close, 111.63
2011-06-15, Close, 109.64
2011-06-16, Close, 109.89
2011-06-16, SELL CREATE, 109.89
2011-06-17, SELL EXECUTED, 127.93
2011-06-17, Close, 110.21
2011-06-20, Close, 110.78
2011-06-21, Close, 112.30
2011-06-22, Close, 111.62
2011-06-23, Close, 111.30
2011-06-24, Close, 110.01
2011-06-27, Close, 110.99
2011-06-28, Close, 112.43
2011-06-29, Close, 113.40
2011-06-30, Close, 114.48
2011-07-01, Close, 116.17
2011-07-05, Close, 116.08
2011-07-06, Close, 116.22
2011-07-07, Close, 117.42
2011-07-08, Close, 116.59
2011-07-11, Close, 114.48
2011-07-12, Close, 113.99
2011-07-13, Close, 114.37
2011-07-14, Close, 113.58
2011-07-15, Close, 114.24
2011-07-18, Close, 113.30
2011-07-19, Close, 115.14
2011-07-20, Close, 115.07
2011-07-21, Close, 116.67
2011-07-22, Close, 116.75
2011-07-25, Close, 116.09
2011-07-26, Close, 115.66
2011-07-27, Close, 113.29
2011-07-28, Close, 112.96
2011-07-29, Close, 112.19
2011-08-01, Close, 111.71
2011-08-02, Close, 108.86
2011-08-03, Close, 109.45
2011-08-04, Close, 104.32
2011-08-05, Close, 104.17
2011-08-08, Close, 97.38
2011-08-09, Close, 101.91
2011-08-10, Close, 97.41
2011-08-11, Close, 101.78
2011-08-12, Close, 102.47
2011-08-15, Close, 104.64
2011-08-16, Close, 103.74
2011-08-17, Close, 103.81
2011-08-18, Close, 99.34
2011-08-19, Close, 97.71
2011-08-22, Close, 97.79
2011-08-23, Close, 101.01
2011-08-24, Close, 102.43
2011-08-25, Close, 100.87
2011-08-26, Close, 102.34
2011-08-29, Close, 105.28
2011-08-30, Close, 105.55
2011-08-31, Close, 106.02
2011-09-01, Close, 104.91
2011-09-02, Close, 102.23
2011-09-06, Close, 101.49
2011-09-07, Close, 104.35
2011-09-08, Close, 103.26
2011-09-09, Close, 100.56
2011-09-12, Close, 101.21
2011-09-13, Close, 102.14
2011-09-14, Close, 103.55
2011-09-15, Close, 105.34
2011-09-16, Close, 105.96
2011-09-19, Close, 104.91
2011-09-20, Close, 104.78
2011-09-21, Close, 101.70
2011-09-22, Close, 98.41
2011-09-23, Close, 99.00
2011-09-26, Close, 101.36
2011-09-27, Close, 102.49
2011-09-28, Close, 100.40
2011-09-29, Close, 101.19
2011-09-30, Close, 98.66
2011-10-03, Close, 95.86
2011-10-04, Close, 97.96
2011-10-05, Close, 99.77
2011-10-06, Close, 101.58
2011-10-07, Close, 100.90
2011-10-10, Close, 104.27
2011-10-11, Close, 104.37
2011-10-12, Close, 105.29
2011-10-13, Close, 105.08
2011-10-14, Close, 106.88
2011-10-17, Close, 104.84
2011-10-18, Close, 106.89
2011-10-19, Close, 105.62
2011-10-20, Close, 106.08
2011-10-21, Close, 108.10
2011-10-24, Close, 109.42
2011-10-25, Close, 107.30
2011-10-26, Close, 108.39
2011-10-27, Close, 112.16
2011-10-28, Close, 112.14
2011-10-31, Close, 109.43
2011-11-01, Close, 106.38
2011-11-02, Close, 108.12
2011-11-03, Close, 110.09
2011-11-04, Close, 109.41
2011-11-07, Close, 110.09
2011-11-08, Close, 111.51
2011-11-09, Close, 107.39
2011-11-10, Close, 108.40
2011-11-11, Close, 110.44
2011-11-11, BUY CREATE, 110.44
2011-11-14, BUY EXECUTED, 126.19
2011-11-14, Close, 109.40
2011-11-15, Close, 109.94
2011-11-16, Close, 108.19
2011-11-17, Close, 106.48
2011-11-18, Close, 106.36
2011-11-21, Close, 104.34
2011-11-22, Close, 103.93
2011-11-23, Close, 101.64
2011-11-25, Close, 101.44
2011-11-28, Close, 104.38
2011-11-29, Close, 104.68
2011-11-30, Close, 108.99
2011-12-01, Close, 108.97
2011-12-02, Close, 108.87
2011-12-05, Close, 110.06
2011-12-06, Close, 110.09
2011-12-07, Close, 110.50
2011-12-08, Close, 108.08
2011-12-09, Close, 109.91
2011-12-12, Close, 108.31
2011-12-13, Close, 107.30
2011-12-14, Close, 106.15
2011-12-15, Close, 106.54
2011-12-16, Close, 106.70
2011-12-19, Close, 105.55
2011-12-20, Close, 108.75
2011-12-21, Close, 108.96
2011-12-22, Close, 109.92
2011-12-23, Close, 110.91
2011-12-27, Close, 110.99
2011-12-28, Close, 109.54
2011-12-29, Close, 110.67
2011-12-30, Close, 110.13
2012-01-03, Close, 111.88
2012-01-04, Close, 112.06
2012-01-05, Close, 112.35
2012-01-06, Close, 112.07
2012-01-09, Close, 112.34
2012-01-10, Close, 113.31
2012-01-11, Close, 113.37
2012-01-12, Close, 113.64
2012-01-13, Close, 113.06
2012-01-17, Close, 113.50
2012-01-18, Close, 114.75
2012-01-19, Close, 115.36
2012-01-20, Close, 115.79
2012-01-23, Close, 115.49
2012-01-24, Close, 115.36
2012-01-25, Close, 116.32
2012-01-26, Close, 115.72
2012-01-27, Close, 115.67
2012-01-30, Close, 115.28
2012-01-31, Close, 115.23
2012-02-01, Close, 116.24
2012-02-02, Close, 116.43
2012-02-03, Close, 118.06
2012-02-06, Close, 117.98
2012-02-07, Close, 118.28
2012-02-08, Close, 118.63
2012-02-09, Close, 118.78
2012-02-10, Close, 117.90
2012-02-13, Close, 118.78
2012-02-14, Close, 118.63
2012-02-15, Close, 118.08
2012-02-16, Close, 119.38
2012-02-17, Close, 119.70
2012-02-21, Close, 119.75
2012-02-22, Close, 119.37
2012-02-23, Close, 119.89
2012-02-24, Close, 120.16
2012-02-27, Close, 120.36
2012-02-28, Close, 120.71
2012-02-29, Close, 120.23
2012-03-01, Close, 120.86
2012-03-02, Close, 120.49
2012-03-05, Close, 120.00
2012-03-06, Close, 118.24
2012-03-07, Close, 119.07
2012-03-08, Close, 120.25
2012-03-09, Close, 120.72
2012-03-12, Close, 120.73
2012-03-13, Close, 122.90
2012-03-14, Close, 122.77
2012-03-15, Close, 123.48
2012-03-16, Close, 123.65
2012-03-19, Close, 124.14
2012-03-20, Close, 123.78
2012-03-21, Close, 123.57
2012-03-22, Close, 122.68
2012-03-23, Close, 123.08
2012-03-26, Close, 124.81
2012-03-27, Close, 124.42
2012-03-28, Close, 123.80
2012-03-29, Close, 123.59
2012-03-30, Close, 124.10
2012-04-02, Close, 125.01
2012-04-03, Close, 124.50
2012-04-04, Close, 123.26
2012-04-05, Close, 123.20
2012-04-09, Close, 121.82
2012-04-10, Close, 119.77
2012-04-11, Close, 120.74
2012-04-12, Close, 122.32
2012-04-13, Close, 120.87
2012-04-16, Close, 120.79
2012-04-17, Close, 122.58
2012-04-18, Close, 122.16
2012-04-19, Close, 121.38
2012-04-20, Close, 121.58
2012-04-23, Close, 120.56
2012-04-24, Close, 121.02
2012-04-25, Close, 122.67
2012-04-26, Close, 123.53
2012-04-27, Close, 123.73
2012-04-30, Close, 123.27
2012-05-01, Close, 124.04
2012-05-02, Close, 123.67
2012-05-03, Close, 122.73
2012-05-04, Close, 120.74
2012-05-07, Close, 120.83
2012-05-08, Close, 120.35
2012-05-09, Close, 119.63
2012-05-10, Close, 119.88
2012-05-11, Close, 119.52
2012-05-14, Close, 118.20
2012-05-15, Close, 117.52
2012-05-16, Close, 117.07
2012-05-17, Close, 115.33
2012-05-18, Close, 114.35
2012-05-21, Close, 116.31
2012-05-22, Close, 116.51
2012-05-23, Close, 116.58
2012-05-24, Close, 116.80
2012-05-25, Close, 116.43
2012-05-25, SELL CREATE, 116.43
2012-05-29, SELL EXECUTED, 133.16
2012-05-29, Close, 117.84
2012-05-30, Close, 116.13
2012-05-31, Close, 115.87
2012-06-01, Close, 112.95
2012-06-04, Close, 112.90
2012-06-05, Close, 113.76
2012-06-06, Close, 116.31
2012-06-07, Close, 116.38
2012-06-08, Close, 117.31
2012-06-11, Close, 115.82
2012-06-12, Close, 117.15
2012-06-13, Close, 116.40
2012-06-14, Close, 117.63
2012-06-15, Close, 118.84
2012-06-18, Close, 119.07
2012-06-19, Close, 120.22
2012-06-20, Close, 120.02
2012-06-21, Close, 117.33
2012-06-22, Close, 118.23
2012-06-25, Close, 116.34
2012-06-26, Close, 116.92
2012-06-27, Close, 117.98
2012-06-28, Close, 117.64
2012-06-29, Close, 120.57
2012-07-02, Close, 120.94
2012-07-03, Close, 121.73
2012-07-05, Close, 121.18
2012-07-06, Close, 120.03
2012-07-09, Close, 119.88
2012-07-10, Close, 118.84
2012-07-11, Close, 118.85
2012-07-12, Close, 118.28
2012-07-13, Close, 120.26
2012-07-16, Close, 119.98
2012-07-17, Close, 120.80
2012-07-18, Close, 121.70
2012-07-19, Close, 122.02
2012-07-20, Close, 120.90
2012-07-23, Close, 119.68
2012-07-24, Close, 118.65
2012-07-25, Close, 118.68
2012-07-26, Close, 120.63
2012-07-27, Close, 122.86
2012-07-30, Close, 122.86
2012-07-31, Close, 122.00
2012-07-31, BUY CREATE, 122.00
2012-08-01, BUY EXECUTED, 138.70
2012-08-01, Close, 121.89
2012-08-02, Close, 121.05
2012-08-03, Close, 123.45
2012-08-06, Close, 123.69
2012-08-07, Close, 124.31
2012-08-08, Close, 124.46
2012-08-09, Close, 124.57
2012-08-10, Close, 124.77
2012-08-13, Close, 124.71
2012-08-14, Close, 124.73
2012-08-15, Close, 124.87
2012-08-16, Close, 125.79
2012-08-17, Close, 125.96
2012-08-20, Close, 125.97
2012-08-21, Close, 125.59
2012-08-22, Close, 125.64
2012-08-23, Close, 124.61
2012-08-24, Close, 125.37
2012-08-27, Close, 125.39
2012-08-28, Close, 125.27
2012-08-29, Close, 125.37
2012-08-30, Close, 124.46
2012-08-31, Close, 125.06
2012-09-04, Close, 124.94
2012-09-05, Close, 124.83
2012-09-06, Close, 127.37
2012-09-07, Close, 127.86
2012-09-10, Close, 127.14
2012-09-11, Close, 127.49
2012-09-12, Close, 127.92
2012-09-13, Close, 129.87
2012-09-14, Close, 130.44
2012-09-17, Close, 130.00
2012-09-18, Close, 129.89
2012-09-19, Close, 129.96
2012-09-20, Close, 129.97
2012-09-21, Close, 129.92
2012-09-24, Close, 129.72
2012-09-25, Close, 128.34
2012-09-26, Close, 127.62
2012-09-27, Close, 128.82
2012-09-28, Close, 128.23
2012-10-01, Close, 128.56
2012-10-02, Close, 128.70
2012-10-03, Close, 129.22
2012-10-04, Close, 130.15
2012-10-05, Close, 130.16
2012-10-08, Close, 129.71
2012-10-09, Close, 128.43
2012-10-10, Close, 127.61
2012-10-11, Close, 127.68
2012-10-12, Close, 127.26
2012-10-15, Close, 128.32
2012-10-16, Close, 129.62
2012-10-17, Close, 130.21
2012-10-18, Close, 129.87
2012-10-19, Close, 127.71
2012-10-22, Close, 127.73
2012-10-23, Close, 125.95
2012-10-24, Close, 125.60
2012-10-25, Close, 125.96
2012-10-26, Close, 125.89
2012-10-31, Close, 125.89
2012-11-01, Close, 127.21
2012-11-02, Close, 126.08
2012-11-05, Close, 126.34
2012-11-06, Close, 127.33
2012-11-07, Close, 124.44
2012-11-08, Close, 122.94
2012-11-09, Close, 123.05
2012-11-12, Close, 123.15
2012-11-13, Close, 122.72
2012-11-14, Close, 121.06
2012-11-15, Close, 120.86
2012-11-16, Close, 121.46
2012-11-19, Close, 123.91
2012-11-20, Close, 123.97
2012-11-21, Close, 124.20
2012-11-23, Close, 125.89
2012-11-26, Close, 125.62
2012-11-27, Close, 124.98
2012-11-28, Close, 125.99
2012-11-29, Close, 126.58
2012-11-30, Close, 126.60
2012-12-03, Close, 125.98
2012-12-04, Close, 125.80
2012-12-05, Close, 126.03
2012-12-06, Close, 126.45
2012-12-07, Close, 126.84
2012-12-10, Close, 126.89
2012-12-11, Close, 127.75
2012-12-12, Close, 127.82
2012-12-13, Close, 127.03
2012-12-14, Close, 126.56
2012-12-17, Close, 128.05
2012-12-18, Close, 129.47
2012-12-19, Close, 128.51
2012-12-20, Close, 129.25
2012-12-21, Close, 128.08
2012-12-24, Close, 127.68
2012-12-26, Close, 127.14
2012-12-27, Close, 126.97
2012-12-28, Close, 125.60
2012-12-31, Close, 127.74
2013-01-02, Close, 131.01
2013-01-03, Close, 130.71
2013-01-04, Close, 131.29
2013-01-07, Close, 130.93
2013-01-08, Close, 130.55
2013-01-09, Close, 130.88
2013-01-10, Close, 131.92
2013-01-11, Close, 131.92
2013-01-14, Close, 131.83
2013-01-15, Close, 131.92
2013-01-16, Close, 131.90
2013-01-17, Close, 132.75
2013-01-18, Close, 133.05
2013-01-22, Close, 133.76
2013-01-23, Close, 133.98
2013-01-24, Close, 134.01
2013-01-25, Close, 134.77
2013-01-28, Close, 134.61
2013-01-29, Close, 135.14
2013-01-30, Close, 134.61
2013-01-31, Close, 134.27
2013-02-01, Close, 135.66
2013-02-04, Close, 134.13
2013-02-05, Close, 135.49
2013-02-06, Close, 135.58
2013-02-07, Close, 135.40
2013-02-08, Close, 136.16
2013-02-11, Close, 136.13
2013-02-12, Close, 136.36
2013-02-13, Close, 136.47
2013-02-14, Close, 136.60
2013-02-15, Close, 136.44
2013-02-19, Close, 137.46
2013-02-20, Close, 135.75
2013-02-21, Close, 134.92
2013-02-22, Close, 136.24
2013-02-25, Close, 133.65
2013-02-26, Close, 134.56
2013-02-27, Close, 136.26
2013-02-28, Close, 135.99
2013-03-01, Close, 136.44
2013-03-04, Close, 137.16
2013-03-05, Close, 138.39
2013-03-06, Close, 138.58
2013-03-07, Close, 138.83
2013-03-08, Close, 139.42
2013-03-11, Close, 139.95
2013-03-12, Close, 139.64
2013-03-13, Close, 139.84
2013-03-14, Close, 140.58
2013-03-15, Close, 140.39
2013-03-18, Close, 139.62
2013-03-19, Close, 139.30
2013-03-20, Close, 140.27
2013-03-21, Close, 139.07
2013-03-22, Close, 140.19
2013-03-25, Close, 139.60
2013-03-26, Close, 140.72
2013-03-27, Close, 140.72
2013-03-28, Close, 141.15
2013-04-01, Close, 140.59
2013-04-02, Close, 141.29
2013-04-03, Close, 139.85
2013-04-04, Close, 140.42
2013-04-05, Close, 139.79
2013-04-08, Close, 140.74
2013-04-09, Close, 141.22
2013-04-10, Close, 142.95
2013-04-11, Close, 143.42
2013-04-12, Close, 143.07
2013-04-15, Close, 139.75
2013-04-16, Close, 141.82
2013-04-17, Close, 139.75
2013-04-18, Close, 138.87
2013-04-19, Close, 140.08
2013-04-22, Close, 140.70
2013-04-23, Close, 142.15
2013-04-24, Close, 142.24
2013-04-25, Close, 142.82
2013-04-26, Close, 142.57
2013-04-29, Close, 143.52
2013-04-30, Close, 143.86
2013-05-01, Close, 142.60
2013-05-02, Close, 143.93
2013-05-03, Close, 145.39
2013-05-06, Close, 145.76
2013-05-07, Close, 146.49
2013-05-08, Close, 147.16
2013-05-09, Close, 146.75
2013-05-10, Close, 147.22
2013-05-13, Close, 147.34
2013-05-14, Close, 148.86
2013-05-15, Close, 149.67
2013-05-16, Close, 148.96
2013-05-17, Close, 150.40
2013-05-20, Close, 150.39
2013-05-21, Close, 150.61
2013-05-22, Close, 149.49
2013-05-23, Close, 149.06
2013-05-24, Close, 148.94
2013-05-28, Close, 149.83
2013-05-29, Close, 148.85
2013-05-30, Close, 149.40
2013-05-31, Close, 147.26
2013-06-03, Close, 148.07
2013-06-04, Close, 147.36
2013-06-05, Close, 145.30
2013-06-06, Close, 146.61
2013-06-07, Close, 148.48
2013-06-10, Close, 148.48
2013-06-11, Close, 146.94
2013-06-12, Close, 145.73
2013-06-13, Close, 147.94
2013-06-14, Close, 147.02
2013-06-17, Close, 148.15
2013-06-18, Close, 149.32
2013-06-19, Close, 147.26
2013-06-20, Close, 143.61
2013-06-21, Close, 144.07
2013-06-24, Close, 142.25
2013-06-25, Close, 143.62
2013-06-26, Close, 145.04
2013-06-27, Close, 145.89
2013-06-28, Close, 145.29
2013-07-01, Close, 146.15
2013-07-02, Close, 146.01
2013-07-03, Close, 146.07
2013-07-05, Close, 147.65
2013-07-08, Close, 148.49
2013-07-09, Close, 149.56
2013-07-10, Close, 149.61
2013-07-11, Close, 151.65
2013-07-12, Close, 151.72
2013-07-15, Close, 152.30
2013-07-16, Close, 151.73
2013-07-17, Close, 152.11
2013-07-18, Close, 152.95
2013-07-19, Close, 153.22
2013-07-22, Close, 153.52
2013-07-23, Close, 153.19
2013-07-24, Close, 152.63
2013-07-25, Close, 153.00
2013-07-26, Close, 153.17
2013-07-29, Close, 152.69
2013-07-30, Close, 152.69
2013-07-31, Close, 152.80
2013-08-01, Close, 154.57
2013-08-02, Close, 154.83
2013-08-05, Close, 154.61
2013-08-06, Close, 153.73
2013-08-07, Close, 153.23
2013-08-08, Close, 153.79
2013-08-09, Close, 153.35
2013-08-12, Close, 153.17
2013-08-13, Close, 153.62
2013-08-14, Close, 152.83
2013-08-15, Close, 150.69
2013-08-16, Close, 150.19
2013-08-19, Close, 149.23
2013-08-20, Close, 149.97
2013-08-21, Close, 149.04
2013-08-22, Close, 150.40
2013-08-23, Close, 150.91
2013-08-26, Close, 150.35
2013-08-27, Close, 147.93
2013-08-28, Close, 148.46
2013-08-29, Close, 148.69
2013-08-30, Close, 148.22
2013-09-03, Close, 148.89
2013-09-04, Close, 150.12
2013-09-05, Close, 150.31
2013-09-06, Close, 150.38
2013-09-09, Close, 151.82
2013-09-10, Close, 152.95
2013-09-11, Close, 153.43
2013-09-12, Close, 153.02
2013-09-13, Close, 153.36
2013-09-16, Close, 154.25
2013-09-17, Close, 154.94
2013-09-18, Close, 156.73
2013-09-19, Close, 156.47
2013-09-20, Close, 155.38
2013-09-23, Close, 154.66
2013-09-24, Close, 154.29
2013-09-25, Close, 153.85
2013-09-26, Close, 154.44
2013-09-27, Close, 153.73
2013-09-30, Close, 152.91
2013-10-01, Close, 154.12
2013-10-02, Close, 153.98
2013-10-03, Close, 152.56
2013-10-04, Close, 153.71
2013-10-07, Close, 152.38
2013-10-08, Close, 150.61
2013-10-09, Close, 150.72
2013-10-10, Close, 153.97
2013-10-11, Close, 154.96
2013-10-14, Close, 155.58
2013-10-15, Close, 154.45
2013-10-16, Close, 156.61
2013-10-17, Close, 157.65
2013-10-18, Close, 158.72
2013-10-21, Close, 158.73
2013-10-22, Close, 159.65
2013-10-23, Close, 158.88
2013-10-24, Close, 159.41
2013-10-25, Close, 160.14
2013-10-28, Close, 160.39
2013-10-29, Close, 161.25
2013-10-30, Close, 160.45
2013-10-31, Close, 159.99
2013-11-01, Close, 160.37
2013-11-04, Close, 160.94
2013-11-05, Close, 160.43
2013-11-06, Close, 161.25
2013-11-07, Close, 159.21
2013-11-08, Close, 161.36
2013-11-11, Close, 161.38
2013-11-12, Close, 161.06
2013-11-13, Close, 162.35
2013-11-14, Close, 163.16
2013-11-15, Close, 163.87
2013-11-18, Close, 163.30
2013-11-19, Close, 162.94
2013-11-20, Close, 162.43
2013-11-21, Close, 163.74
2013-11-22, Close, 164.56
2013-11-25, Close, 164.40
2013-11-26, Close, 164.44
2013-11-27, Close, 164.84
2013-11-29, Close, 164.73
2013-12-02, Close, 164.31
2013-12-03, Close, 163.60
2013-12-04, Close, 163.58
2013-12-05, Close, 162.86
2013-12-06, Close, 164.68
2013-12-09, Close, 165.10
2013-12-10, Close, 164.51
2013-12-11, Close, 162.66
2013-12-12, Close, 162.12
2013-12-13, Close, 162.10
2013-12-16, Close, 163.11
2013-12-17, Close, 162.59
2013-12-18, Close, 165.37
2013-12-19, Close, 165.18
2013-12-20, Close, 166.14
2013-12-23, Close, 167.03
2013-12-24, Close, 167.39
2013-12-26, Close, 168.24
2013-12-27, Close, 168.24
2013-12-30, Close, 168.21
2013-12-31, Close, 169.00
2014-01-02, Close, 167.38
2014-01-03, Close, 167.36
2014-01-06, Close, 166.87
2014-01-07, Close, 167.90
2014-01-08, Close, 167.93
2014-01-09, Close, 168.04
2014-01-10, Close, 168.50
2014-01-13, Close, 166.26
2014-01-14, Close, 168.07
2014-01-15, Close, 168.98
2014-01-16, Close, 168.76
2014-01-17, Close, 168.04
2014-01-21, Close, 168.54
2014-01-22, Close, 168.65
2014-01-23, Close, 167.27
2014-01-24, Close, 163.70
2014-01-27, Close, 162.89
2014-01-28, Close, 163.86
2014-01-29, Close, 162.29
2014-01-30, Close, 164.01
2014-01-31, Close, 163.05
2014-02-03, Close, 159.38
2014-02-04, Close, 160.49
2014-02-05, Close, 160.29
2014-02-06, Close, 162.41
2014-02-07, Close, 164.42
2014-02-10, Close, 164.72
2014-02-11, Close, 166.52
2014-02-12, Close, 166.61
2014-02-13, Close, 167.47
2014-02-14, Close, 168.39
2014-02-18, Close, 168.59
2014-02-19, Close, 167.48
2014-02-20, Close, 168.46
2014-02-21, Close, 168.27
2014-02-24, Close, 169.21
2014-02-25, Close, 169.14
2014-02-26, Close, 169.15
2014-02-27, Close, 170.04
2014-02-28, Close, 170.47
2014-03-03, Close, 169.27
2014-03-04, Close, 171.65
2014-03-05, Close, 171.80
2014-03-06, Close, 172.20
2014-03-07, Close, 172.27
2014-03-10, Close, 172.18
2014-03-11, Close, 171.33
2014-03-12, Close, 171.37
2014-03-13, Close, 169.45
2014-03-14, Close, 168.98
2014-03-17, Close, 170.50
2014-03-18, Close, 171.72
2014-03-19, Close, 170.81
2014-03-20, Close, 171.80
2014-03-21, Close, 171.14
2014-03-24, Close, 170.43
2014-03-25, Close, 171.24
2014-03-26, Close, 170.01
2014-03-27, Close, 169.65
2014-03-28, Close, 170.49
2014-03-31, Close, 171.88
2014-04-01, Close, 173.02
2014-04-02, Close, 173.60
2014-04-03, Close, 173.37
2014-04-04, Close, 171.32
2014-04-07, Close, 169.43
2014-04-08, Close, 170.13
2014-04-09, Close, 171.96
2014-04-10, Close, 168.34
2014-04-11, Close, 166.83
2014-04-14, Close, 168.14
2014-04-15, Close, 169.30
2014-04-16, Close, 171.07
2014-04-17, Close, 171.31
2014-04-21, Close, 171.91
2014-04-22, Close, 172.69
2014-04-23, Close, 172.29
2014-04-24, Close, 172.64
2014-04-25, Close, 171.22
2014-04-28, Close, 171.76
2014-04-29, Close, 172.56
2014-04-30, Close, 173.08
2014-05-01, Close, 173.10
2014-05-02, Close, 172.85
2014-05-05, Close, 173.18
2014-05-06, Close, 171.67
2014-05-07, Close, 172.68
2014-05-08, Close, 172.50
2014-05-09, Close, 172.76
2014-05-12, Close, 174.44
2014-05-13, Close, 174.59
2014-05-14, Close, 173.77
2014-05-15, Close, 172.24
2014-05-16, Close, 172.84
2014-05-19, Close, 173.47
2014-05-20, Close, 172.38
2014-05-21, Close, 173.83
2014-05-22, Close, 174.25
2014-05-23, Close, 174.95
2014-05-27, Close, 176.03
2014-05-28, Close, 175.90
2014-05-29, Close, 176.81
2014-05-30, Close, 177.09
2014-06-02, Close, 177.30
2014-06-03, Close, 177.20
2014-06-04, Close, 177.56
2014-06-05, Close, 178.72
2014-06-06, Close, 179.58
2014-06-09, Close, 179.76
2014-06-10, Close, 179.78
2014-06-11, Close, 179.15
2014-06-12, Close, 177.88
2014-06-13, Close, 178.43
2014-06-16, Close, 178.57
2014-06-17, Close, 179.07
2014-06-18, Close, 180.38
2014-06-19, Close, 180.59
2014-06-20, Close, 180.95
2014-06-23, Close, 180.90
2014-06-24, Close, 179.81
2014-06-25, Close, 180.62
2014-06-26, Close, 180.49
2014-06-27, Close, 180.84
2014-06-30, Close, 180.75
2014-07-01, Close, 181.96
2014-07-02, Close, 182.14
2014-07-03, Close, 183.04
2014-07-07, Close, 182.40
2014-07-08, Close, 181.23
2014-07-09, Close, 182.04
2014-07-10, Close, 181.32
2014-07-11, Close, 181.57
2014-07-14, Close, 182.49
2014-07-15, Close, 182.14
2014-07-16, Close, 182.82
2014-07-17, Close, 180.74
2014-07-18, Close, 182.59
2014-07-21, Close, 182.25
2014-07-22, Close, 183.04
2014-07-23, Close, 183.45
2014-07-24, Close, 183.46
2014-07-25, Close, 182.60
2014-07-28, Close, 182.67
2014-07-29, Close, 181.89
2014-07-30, Close, 181.91
2014-07-31, Close, 178.32
2014-08-01, Close, 177.78
2014-08-04, Close, 179.06
2014-08-05, Close, 177.32
2014-08-06, Close, 177.38
2014-08-07, Close, 176.42
2014-08-08, Close, 178.46
2014-08-11, Close, 178.98
2014-08-12, Close, 178.73
2014-08-13, Close, 179.94
2014-08-14, Close, 180.79
2014-08-15, Close, 180.75
2014-08-18, Close, 182.26
2014-08-19, Close, 183.22
2014-08-20, Close, 183.70
2014-08-21, Close, 184.24
2014-08-22, Close, 183.95
2014-08-25, Close, 184.89
2014-08-26, Close, 185.01
2014-08-27, Close, 184.93
2014-08-28, Close, 184.83
2014-08-29, Close, 185.36
2014-09-02, Close, 185.27
2014-09-03, Close, 185.16
2014-09-04, Close, 184.90
2014-09-05, Close, 185.73
2014-09-08, Close, 185.25
2014-09-09, Close, 184.07
2014-09-10, Close, 184.77
2014-09-11, Close, 184.98
2014-09-12, Close, 183.90
2014-09-15, Close, 183.76
2014-09-16, Close, 185.15
2014-09-17, Close, 185.39
2014-09-18, Close, 186.38
2014-09-19, Close, 186.21
2014-09-22, Close, 184.78
2014-09-23, Close, 183.72
2014-09-24, Close, 185.16
2014-09-25, Close, 182.17
2014-09-26, Close, 183.62
2014-09-29, Close, 183.28
2014-09-30, Close, 182.80
2014-10-01, Close, 180.32
2014-10-02, Close, 180.35
2014-10-03, Close, 182.34
2014-10-06, Close, 182.12
2014-10-07, Close, 179.31
2014-10-08, Close, 182.45
2014-10-09, Close, 178.83
2014-10-10, Close, 176.79
2014-10-13, Close, 173.88
2014-10-14, Close, 174.15
2014-10-15, Close, 172.97
2014-10-16, Close, 172.83
2014-10-17, Close, 174.87
2014-10-17, SELL CREATE, 174.87
2014-10-20, SELL EXECUTED, 188.13
2014-10-20, Close, 176.57
2014-10-21, Close, 180.06
2014-10-22, Close, 178.78
2014-10-23, Close, 180.86
2014-10-24, Close, 182.25
2014-10-27, Close, 182.00
2014-10-28, Close, 184.09
2014-10-29, Close, 183.81
2014-10-30, Close, 184.99
2014-10-31, Close, 187.11
2014-11-03, Close, 187.21
2014-11-04, Close, 186.56
2014-11-05, Close, 187.74
2014-11-06, Close, 188.49
2014-11-07, Close, 188.66
2014-11-10, Close, 189.26
2014-11-11, Close, 189.44
2014-11-12, Close, 189.24
2014-11-13, Close, 189.45
2014-11-14, Close, 189.50
2014-11-17, Close, 189.62
2014-11-17, BUY CREATE, 189.62
2014-11-18, BUY EXECUTED, 204.44
2014-11-18, Close, 190.71
2014-11-19, Close, 190.41
2014-11-20, Close, 190.74
2014-11-21, Close, 191.76
2014-11-24, Close, 192.30
2014-11-25, Close, 192.16
2014-11-26, Close, 192.65
2014-11-28, Close, 192.25
2014-12-01, Close, 190.91
2014-12-02, Close, 192.14
2014-12-03, Close, 192.89
2014-12-04, Close, 192.67
2014-12-05, Close, 192.99
2014-12-08, Close, 191.70
2014-12-09, Close, 191.57
2014-12-10, Close, 188.50
2014-12-11, Close, 189.45
2014-12-12, Close, 186.39
2014-12-15, Close, 185.11
2014-12-16, Close, 183.63
2014-12-17, Close, 187.23
2014-12-18, Close, 191.86
2014-12-19, Close, 192.67
2014-12-22, Close, 193.56
2014-12-23, Close, 193.82
2014-12-24, Close, 193.84
2014-12-26, Close, 194.46
2014-12-29, Close, 194.72
2014-12-30, Close, 193.68
2014-12-31, Close, 191.76
2015-01-02, Close, 191.66
2015-01-05, Close, 188.19
2015-01-06, Close, 186.42
2015-01-07, Close, 188.74
2015-01-08, Close, 192.09
2015-01-09, Close, 190.55
2015-01-12, Close, 189.06
2015-01-13, Close, 188.53
2015-01-14, Close, 187.39
2015-01-15, Close, 185.68
2015-01-16, Close, 188.11
2015-01-20, Close, 188.51
2015-01-21, Close, 189.46
2015-01-22, Close, 192.28
2015-01-23, Close, 191.23
2015-01-26, Close, 191.67
2015-01-27, Close, 189.15
2015-01-28, Close, 186.72
2015-01-29, Close, 188.45
2015-01-30, Close, 186.08
2015-02-02, Close, 188.38
2015-02-03, Close, 191.10
2015-02-04, Close, 190.38
2015-02-05, Close, 192.30
2015-02-06, Close, 191.77
2015-02-09, Close, 190.91
2015-02-10, Close, 192.94
2015-02-11, Close, 193.05
2015-02-12, Close, 194.91
2015-02-13, Close, 195.71
2015-02-17, Close, 196.02
2015-02-18, Close, 196.04
2015-02-19, Close, 195.90
2015-02-20, Close, 197.08
2015-02-23, Close, 197.05
2015-02-24, Close, 197.61
2015-02-25, Close, 197.44
2015-02-26, Close, 197.21
2015-02-27, Close, 196.53
2015-03-02, Close, 197.78
2015-03-03, Close, 196.96
2015-03-04, Close, 196.13
2015-03-05, Close, 196.35
2015-03-06, Close, 193.59
2015-03-09, Close, 194.39
2015-03-10, Close, 191.24
2015-03-11, Close, 190.79
2015-03-12, Close, 193.21
2015-03-13, Close, 192.03
2015-03-16, Close, 194.59
2015-03-17, Close, 194.02
2015-03-18, Close, 196.35
2015-03-19, Close, 195.45
2015-03-20, Close, 197.18
2015-03-23, Close, 196.79
2015-03-24, Close, 195.69
2015-03-25, Close, 192.82
2015-03-26, Close, 192.36
2015-03-27, Close, 192.80
2015-03-30, Close, 195.15
2015-03-31, Close, 193.45
2015-04-01, Close, 192.76
2015-04-02, Close, 193.46
2015-04-06, Close, 194.76
2015-04-07, Close, 194.24
2015-04-08, Close, 194.90
2015-04-09, Close, 195.76
2015-04-10, Close, 196.83
2015-04-13, Close, 195.94
2015-04-14, Close, 196.32
2015-04-15, Close, 197.20
2015-04-16, Close, 197.14
2015-04-17, Close, 194.87
2015-04-20, Close, 196.65
2015-04-21, Close, 196.42
2015-04-22, Close, 197.38
2015-04-23, Close, 197.88
2015-04-24, Close, 198.34
2015-04-27, Close, 197.51
2015-04-28, Close, 198.14
2015-04-29, Close, 197.33
2015-04-30, Close, 195.35
2015-05-01, Close, 197.47
2015-05-04, Close, 198.03
2015-05-05, Close, 195.76
2015-05-06, Close, 194.96
2015-05-07, Close, 195.73
2015-05-08, Close, 198.31
2015-05-11, Close, 197.36
2015-05-12, Close, 196.77
2015-05-13, Close, 196.81
2015-05-14, Close, 198.86
2015-05-15, Close, 199.08
2015-05-18, Close, 199.70
2015-05-19, Close, 199.63
2015-05-20, Close, 199.49
2015-05-21, Close, 200.07
2015-05-22, Close, 199.60
2015-05-26, Close, 197.45
2015-05-27, Close, 199.32
2015-05-28, Close, 199.10
2015-05-29, Close, 197.86
2015-06-01, Close, 198.26
2015-06-02, Close, 198.07
2015-06-03, Close, 198.59
2015-06-04, Close, 196.92
2015-06-05, Close, 196.58
2015-06-08, Close, 195.31
2015-06-09, Close, 195.34
2015-06-10, Close, 197.69
2015-06-11, Close, 198.34
2015-06-12, Close, 196.73
2015-06-15, Close, 195.95
2015-06-16, Close, 197.03
2015-06-17, Close, 197.35
2015-06-18, Close, 199.33
2015-06-19, Close, 198.51
2015-06-22, Close, 199.53
2015-06-23, Close, 199.68
2015-06-24, Close, 198.23
2015-06-25, Close, 197.59
2015-06-26, Close, 197.66
2015-06-29, Close, 193.49
2015-06-30, Close, 193.88
2015-07-01, Close, 195.46
2015-07-02, Close, 195.23
2015-07-06, Close, 194.62
2015-07-07, Close, 195.88
2015-07-08, Close, 192.60
2015-07-09, Close, 192.85
2015-07-10, Close, 195.38
2015-07-13, Close, 197.52
2015-07-14, Close, 198.43
2015-07-15, Close, 198.34
2015-07-16, Close, 199.89
2015-07-17, Close, 200.08
2015-07-20, Close, 200.22
2015-07-21, Close, 199.41
2015-07-22, Close, 198.97
2015-07-23, Close, 197.88
2015-07-24, Close, 195.81
2015-07-27, Close, 194.68
2015-07-28, Close, 197.10
2015-07-29, Close, 198.48
2015-07-30, Close, 198.52
2015-07-31, Close, 198.17
2015-08-03, Close, 197.50
2015-08-04, Close, 197.11
2015-08-05, Close, 197.85
2015-08-06, Close, 196.20
2015-08-07, Close, 195.79
2015-08-10, Close, 198.34
2015-08-11, Close, 196.49
2015-08-12, Close, 196.73
2015-08-13, Close, 196.53
2015-08-14, Close, 197.15
2015-08-17, Close, 198.28
2015-08-18, Close, 197.69
2015-08-19, Close, 196.13
2015-08-20, Close, 192.11
2015-08-21, Close, 186.10
2015-08-21, SELL CREATE, 186.10
2015-08-24, SELL EXECUTED, 197.63
2015-08-24, Close, 178.49
2015-08-25, Close, 176.31
2015-08-26, Close, 183.32
2015-08-27, Close, 187.54
2015-08-28, Close, 187.62
2015-08-31, Close, 186.02
2015-09-01, Close, 180.58
2015-09-02, Close, 184.01
2015-09-03, Close, 184.24
2015-09-04, Close, 181.36
2015-09-08, Close, 185.94
2015-09-09, Close, 183.40
2015-09-10, Close, 184.43
2015-09-11, Close, 185.26
2015-09-14, Close, 184.55
2015-09-15, Close, 186.87
2015-09-16, Close, 188.47
2015-09-17, Close, 188.05
2015-09-18, Close, 184.92
2015-09-21, Close, 185.94
2015-09-22, Close, 183.54
2015-09-23, Close, 183.26
2015-09-24, Close, 182.62
2015-09-25, Close, 182.56
2015-09-28, Close, 177.87
2015-09-29, Close, 178.03
2015-09-30, Close, 181.35
2015-10-01, Close, 181.86
2015-10-02, Close, 184.58
2015-10-05, Close, 187.87
2015-10-06, Close, 187.22
2015-10-07, Close, 188.76
2015-10-08, Close, 190.46
2015-10-09, Close, 190.57
2015-10-12, Close, 190.75
2015-10-13, Close, 189.55
2015-10-14, Close, 188.64
2015-10-15, Close, 191.54
2015-10-16, Close, 192.41
2015-10-19, Close, 192.50
2015-10-20, Close, 192.26
2015-10-21, Close, 191.07
2015-10-22, Close, 194.25
2015-10-23, Close, 196.43
2015-10-26, Close, 195.93
2015-10-27, Close, 195.53
2015-10-28, Close, 197.78
2015-10-29, Close, 197.73
2015-10-30, Close, 196.82
2015-11-02, Close, 199.15
2015-11-03, Close, 199.73
2015-11-04, Close, 199.14
2015-11-05, Close, 198.92
2015-11-06, Close, 198.82
2015-11-09, Close, 196.96
2015-11-09, BUY CREATE, 196.96
2015-11-10, Order Canceled/Margin/Rejected
2015-11-10, Close, 197.42
2015-11-10, BUY CREATE, 197.42
2015-11-11, Order Canceled/Margin/Rejected
2015-11-11, Close, 196.64
2015-11-11, BUY CREATE, 196.64
2015-11-12, Order Canceled/Margin/Rejected
2015-11-12, Close, 193.90
2015-11-13, Close, 191.72
2015-11-16, Close, 194.63
2015-11-17, Close, 194.49
2015-11-18, Close, 197.58
2015-11-18, BUY CREATE, 197.58
2015-11-19, Order Canceled/Margin/Rejected
2015-11-19, Close, 197.41
2015-11-19, BUY CREATE, 197.41
2015-11-20, Order Canceled/Margin/Rejected
2015-11-20, Close, 198.13
2015-11-20, BUY CREATE, 198.13
2015-11-23, Order Canceled/Margin/Rejected
2015-11-23, Close, 197.90
2015-11-23, BUY CREATE, 197.90
2015-11-24, Order Canceled/Margin/Rejected
2015-11-24, Close, 198.16
2015-11-24, BUY CREATE, 198.16
2015-11-25, Order Canceled/Margin/Rejected
2015-11-25, Close, 198.14
2015-11-25, BUY CREATE, 198.14
2015-11-27, Order Canceled/Margin/Rejected
2015-11-27, Close, 198.36
2015-11-27, BUY CREATE, 198.36
2015-11-30, Order Canceled/Margin/Rejected
2015-11-30, Close, 197.54
2015-11-30, BUY CREATE, 197.54
2015-12-01, Order Canceled/Margin/Rejected
2015-12-01, Close, 199.42
2015-12-01, BUY CREATE, 199.42
2015-12-02, Order Canceled/Margin/Rejected
2015-12-02, Close, 197.39
2015-12-02, BUY CREATE, 197.39
2015-12-03, Order Canceled/Margin/Rejected
2015-12-03, Close, 194.62
2015-12-04, Close, 198.42
2015-12-07, Close, 197.22
2015-12-08, Close, 195.89
2015-12-09, Close, 194.37
2015-12-10, Close, 194.87
2015-12-11, Close, 191.09
2015-12-14, Close, 192.06
2015-12-15, Close, 194.08
2015-12-16, Close, 196.91
2015-12-16, BUY CREATE, 196.91
2015-12-17, Order Canceled/Margin/Rejected
2015-12-17, Close, 193.91
2015-12-18, Close, 190.46
2015-12-21, Close, 192.03
2015-12-22, Close, 193.77
2015-12-23, Close, 196.17
2015-12-24, Close, 195.85
2015-12-28, Close, 195.40
2015-12-29, Close, 197.49
2015-12-30, Close, 196.09
2015-12-31, Close, 194.13
Final Portfolio Value: 1442.54
</code></pre>
</div>

<p>We can also plot the results (although I tried this a while ago and it didn’t work well then, either…). It looks like</p>

<p><code class="highlighter-rouge">python
cerebro.plot()
</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>/home/tmabbot/anaconda3/lib/python3.6/site-packages/backtrader/plot/plot.py:127: UserWarning:
This call to matplotlib.use() has no effect because the backend has already
been chosen; matplotlib.use() must be called *before* pylab, matplotlib.pyplot,
or matplotlib.backends is imported for the first time.

The backend was *originally* set to 'module://ipykernel.pylab.backend_inline' by the following code:
  File "/home/tmabbot/anaconda3/lib/python3.6/runpy.py", line 193, in _run_module_as_main
    "__main__", mod_spec)
  File "/home/tmabbot/anaconda3/lib/python3.6/runpy.py", line 85, in _run_code
    exec(code, run_globals)
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/ipykernel_launcher.py", line 16, in &lt;module&gt;
    app.launch_new_instance()
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/traitlets/config/application.py", line 658, in launch_instance
    app.start()
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/ipykernel/kernelapp.py", line 478, in start
    self.io_loop.start()
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/zmq/eventloop/ioloop.py", line 177, in start
    super(ZMQIOLoop, self).start()
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/tornado/ioloop.py", line 888, in start
    handler_func(fd_obj, events)
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/tornado/stack_context.py", line 277, in null_wrapper
    return fn(*args, **kwargs)
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/zmq/eventloop/zmqstream.py", line 440, in _handle_events
    self._handle_recv()
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/zmq/eventloop/zmqstream.py", line 472, in _handle_recv
    self._run_callback(callback, msg)
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/zmq/eventloop/zmqstream.py", line 414, in _run_callback
    callback(*args, **kwargs)
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/tornado/stack_context.py", line 277, in null_wrapper
    return fn(*args, **kwargs)
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/ipykernel/kernelbase.py", line 283, in dispatcher
    return self.dispatch_shell(stream, msg)
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/ipykernel/kernelbase.py", line 233, in dispatch_shell
    handler(stream, idents, msg)
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/ipykernel/kernelbase.py", line 399, in execute_request
    user_expressions, allow_stdin)
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/ipykernel/ipkernel.py", line 208, in do_execute
    res = shell.run_cell(code, store_history=store_history, silent=silent)
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/ipykernel/zmqshell.py", line 537, in run_cell
    return super(ZMQInteractiveShell, self).run_cell(*args, **kwargs)
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/IPython/core/interactiveshell.py", line 2728, in run_cell
    interactivity=interactivity, compiler=compiler, result=result)
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/IPython/core/interactiveshell.py", line 2850, in run_ast_nodes
    if self.run_code(code, result):
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/IPython/core/interactiveshell.py", line 2910, in run_code
    exec(code_obj, self.user_global_ns, self.user_ns)
  File "&lt;ipython-input-6-c49e426cd7dd&gt;", line 15, in &lt;module&gt;
    get_ipython().run_line_magic('matplotlib', 'inline')
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/IPython/core/interactiveshell.py", line 2095, in run_line_magic
    result = fn(*args,**kwargs)
  File "&lt;decorator-gen-107&gt;", line 2, in matplotlib
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/IPython/core/magic.py", line 187, in &lt;lambda&gt;
    call = lambda f, *a, **k: f(*a, **k)
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/IPython/core/magics/pylab.py", line 99, in matplotlib
    gui, backend = self.shell.enable_matplotlib(args.gui)
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/IPython/core/interactiveshell.py", line 2978, in enable_matplotlib
    pt.activate_matplotlib(backend)
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/IPython/core/pylabtools.py", line 308, in activate_matplotlib
    matplotlib.pyplot.switch_backend(backend)
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/matplotlib/pyplot.py", line 232, in switch_backend
    matplotlib.use(newbackend, warn=False, force=True)
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/matplotlib/__init__.py", line 1305, in use
    reload(sys.modules['matplotlib.backends'])
  File "/home/tmabbot/anaconda3/lib/python3.6/importlib/__init__.py", line 166, in reload
    _bootstrap._exec(spec, module)
  File "/home/tmabbot/anaconda3/lib/python3.6/site-packages/matplotlib/backends/__init__.py", line 14, in &lt;module&gt;
    line for line in traceback.format_stack()


  matplotlib.use('nbagg')
</code></pre>
</div>

<p><img src="backtrader_files/backtrader_7_1.png" alt="png" /></p>

<div class="highlighter-rouge"><pre class="highlight"><code>[[&lt;matplotlib.figure.Figure at 0x7f52e6a0a080&gt;]]
</code></pre>
</div>

<p>Ignoring all the matplolib warnings, it’s a pretty convenient function! I need to dive in a bit more to see what else this can do, but looking at it it has produced NEARLY the same returns as the other program. However, the returns aren’t exactly equal. I don’t have time to dig in today, but will check it out tomorrow!</p>

        </section>
        
        <footer>
            
            <a href="/update/2018/08/10/ma.html" class="float-left">&larr; Previous post</a> 
            
            <a href="/update/2018/08/10/ma.html" class="float-right">Next post &rarr;</a> 
        </footer>

    </div>

</section>


            </div>
            <!-- Footer -->
    <section id="footer">
        <div class="container">
            <ul class="copyright">
<!--               <li>&copy; Untitled. All rights reserved.</li>
-->
                <li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
                <li>Jekyll Template: <a target="_blank" href="https://github.com/old-jekyll-templates/Read-Only-Jekyll-Theme">Read Only</a></li>
            </ul>
        </div>
    </section>

		</div>
	</body>
</html>